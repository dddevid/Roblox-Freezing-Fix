<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Redirecting to the appropriate language page based on your location.">
    <meta name="author" content="Your Name">
    <title>Redirecting...</title>
    <script>
        function redirectToLanguagePage(ipData) {
            const country = ipData.country;

            const languageMap = {
                'IT': 'index_it.html',
                'AL': 'index_al.html',
                'DE': 'index_de.html',
                'ES': 'index_es.html',
                'SA': 'index_ar.html',
                'CN': 'index_zh.html',
                'RU': 'index_ru.html',
                'FR': 'index_fr.html',
                'PL': 'index_pl.html'
            };

            const languagePage = languageMap[country] || 'index_en.html';
            window.location.href = languagePage;
        }

        function fetchIPData() {
            const apiURL = 'https://ipinfo.io/json';

            fetch(apiURL)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => redirectToLanguagePage(data))
                .catch(error => {
                    console.error('Errore durante il recupero dei dati IP:', error);
                    window.location.href = 'index_en.html';
                });
        }

        window.onload = fetchIPData;
    </script>
</head>
<body>
    <p>Redirecting you to the appropriate language page based on your location...</p>
</body>
</html>
